<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Telecom Saint-Etienne Mobility</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round|Open+Sans">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="script.js"></script>
<!-- <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="crossorigin=""></script> -->
<script language="javascript">
function viewMap() {
  
  if (document.getElementsByClassName("table-bordered")[0].style.display!="none"){
	document.getElementsByClassName("div-map")[0].style.display="block";
	setTimeout(function(){mymap.invalidateSize()}, 500);
	document.getElementsByClassName("btn btn-info add-new")[0].style.display="none";
	document.getElementsByClassName("table-bordered")[0].style.display="none";
	document.getElementById("btn-map").innerHTML="View Table";
  }
  else if (document.getElementsByClassName("div-map")[0].style.display!="none"){
	document.getElementsByClassName("div-map")[0].style.display="none";
	document.getElementsByClassName("btn btn-info add-new")[0].style.display= "block";
	document.getElementsByClassName("table-bordered")[0].style.display="block";
	document.getElementById("btn-map").innerHTML="View Map";
  }
};
</script>
</head>
<body>
<?php echo "php is working on this page !";?>
<div class="container-lg">
<div class="table-responsive">
	<div class="table-wrapper">
		<div class="table-title">
			<div class="row">
				<div class="col-sm-8"><h2>Student <b>Mobility</b></h2></div>
				<div class="col-sm-4">
					<button type="button" class="btn btn-info add-new"><i class="fa fa-plus"></i> Add New</button>
					<button type="button" class="btn btn-info view-map" id="btn-map" onclick="viewMap()">View Map</button>
				</div>
			</div>
		</div>
		<table class="table table-bordered">
			<thead>
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Promotion</th>
					<th>Country</th>
					<th>City</th>
					<th>Start Date</th>
					<th>End Date</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Local</td>
					<td>Test</td>
					<td>FISE3</td>
					<td>France</td>
					<td>Sainté c'est le S</td>
					<td>07/09/2020</td>
					<td>22/02/2021</td>
					<td>
						<a class="add" title="Add" data-toggle="tooltip"><i class="material-icons">&#xE03B;</i></a>
						<a class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
						<a class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
					</td>
				</tr>
			</tbody>
		</table>
		<div class="div-map" style="display: none">
			<div id="mapID" style="height: 500px" style="width: 100%"></div>
			<script>
				var locations = [
						  ["LOCATION_1", 45.452, 4.381],
						  ["LOCATION_2", 0, 0],
						  //["LOCATION_3", 10.7202, 122.5621],
						  //["LOCATION_4", 11.3889, 122.6277],
						  //["LOCATION_5", 10.5929, 122.6325]
						];
				
				var mymap = L.map('mapID').setView([45.452, 4.381], 2);
				
				L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
					maxZoom: 18,
					attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
						'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
						'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
					id: 'mapbox/streets-v11',
					tileSize: 512,
					zoomOffset: -1
				}).addTo(mymap);
				
				
				for (var i = 0; i < locations.length; i++) {
				  marker = new L.marker([locations[i][1], locations[i][2]])
					.bindPopup(locations[i][0])
					.addTo(mymap);
				}
			</script>
		</div>	
	</div>
</div>
</div>

</body>
</html>